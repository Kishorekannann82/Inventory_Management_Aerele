{% extends "base.html" %}

{% block content %}

<h2>Edit Product Movement</h2>

<form method="post">
    <label>Movement ID</label>
    <input type="text" value="{{ movement.movement_id }}" disabled>

    <label>Product</label>
    <select name="product_id" required>
        {% for p in products %}
        <option value="{{ p.product_id }}"
            {% if p.product_id == movement.product_id %}selected{% endif %}>
            {{ p.name }}
        </option>
        {% endfor %}
    </select>

    <label>From Location</label>
    <select name="from_location">
        <option value="">-- None --</option>
        {% for l in locations %}
        <option value="{{ l.location_id }}"
            {% if l.location_id == movement.from_location %}selected{% endif %}>
            {{ l.name }}
        </option>
        {% endfor %}
    </select>

    <label>To Location</label>
    <select name="to_location">
        <option value="">-- None --</option>
        {% for l in locations %}
        <option value="{{ l.location_id }}"
            {% if l.location_id == movement.to_location %}selected{% endif %}>
            {{ l.name }}
        </option>
        {% endfor %}
    </select>

    <label>Quantity</label>
    <input type="number" name="qty" value="{{ movement.qty }}" min="1" required>

    <button type="submit" class="btn">Update Movement</button>
</form>

<div style="margin-top:16px; text-align:center;">
    <a href="/movements" class="btn">View Movements</a>
</div>

{% endblock %}
